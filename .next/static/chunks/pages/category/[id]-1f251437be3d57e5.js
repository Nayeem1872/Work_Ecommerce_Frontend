(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{785:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[id]",function(){return t(3075)}])},9889:function(e,n,t){"use strict";var r=t(2729),i=t(8458);function s(){let e=(0,r._)(["\n  font-size: 1.5em;\n"]);return s=function(){return e},e}let a=i.ZP.h1.withConfig({componentId:"sc-aa9cfb0-0"})(s());n.Z=a},3075:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return j},default:function(){return _}});var r=t(2729),i=t(5893),s=t(2185);t(9889);var a=t(2758),o=t(8807),c=t(8458),l=t(7294),u=t(6154),d=t(5143);function p(){let e=(0,r._)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  h1 {\n    font-size: 1.5em;\n  }\n"]);return p=function(){return e},e}function f(){let e=(0,r._)(["\n  display: flex;\n  gap: 15px;\n"]);return f=function(){return e},e}function h(){let e=(0,r._)(["\n  background-color: #ddd;\n  padding: 5px 10px;\n  border-radius: 5px;\n  display: flex;\n  gap: 5px;\n  color: #444;\n  select {\n    background-color: transparent;\n    border: 0;\n    font-size: inherit;\n    color: #444;\n  }\n"]);return h=function(){return e},e}let x=c.ZP.div.withConfig({componentId:"sc-d81e3e43-0"})(p()),v=c.ZP.div.withConfig({componentId:"sc-d81e3e43-1"})(f()),m=c.ZP.div.withConfig({componentId:"sc-d81e3e43-2"})(h());var j=!0;function _(e){let{category:n,subCategories:t,products:r}=e,c=n.properties.map(e=>({name:e.name,value:"all"})),[p,f]=(0,l.useState)(r),[h,j]=(0,l.useState)(c),[_,g]=(0,l.useState)("_id-desc"),[w,S]=(0,l.useState)(!1),[Z,b]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!Z)return;S(!0);let e=[n._id,...(null==t?void 0:t.map(e=>e._id))||[]],r=new URLSearchParams;r.set("categories",e.join(",")),r.set("sort",_),h.forEach(e=>{"all"!==e.value&&r.set(e.name,e.value)});let i="/api/products?"+r.toString();u.Z.get(i).then(e=>{f(e.data),S(!1)})},[h,_,Z]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(a.Z,{children:[(0,i.jsxs)(x,{children:[(0,i.jsx)("h1",{children:n.name}),(0,i.jsxs)(v,{children:[n.properties.map(e=>(0,i.jsxs)(m,{children:[(0,i.jsxs)("span",{children:[e.name,":"]}),(0,i.jsxs)("select",{onChange:n=>{var t,r;return t=e.name,r=n.target.value,void(j(e=>e.map(e=>({name:e.name,value:e.name===t?r:e.value}))),b(!0))},value:h.find(n=>n.name===e.name).value,children:[(0,i.jsx)("option",{value:"all",children:"All"}),e.values.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]},e.name)),(0,i.jsxs)(m,{children:[(0,i.jsx)("span",{children:"Sort:"}),(0,i.jsxs)("select",{value:_,onChange:e=>{g(e.target.value),b(!0)},children:[(0,i.jsx)("option",{value:"price-asc",children:"price, lowest first"}),(0,i.jsx)("option",{value:"price-desc",children:"price, highest first"}),(0,i.jsx)("option",{value:"_id-desc",children:"newest first"}),(0,i.jsx)("option",{value:"_id-asc",children:"oldest first"})]})]})]})]}),w&&(0,i.jsx)(d.Z,{fullWidth:!0}),!w&&(0,i.jsxs)("div",{children:[p.length>0&&(0,i.jsx)(o.Z,{products:p}),0===p.length&&(0,i.jsx)("div",{children:"Sorry, no products found"})]})]})]})}}},function(e){e.O(0,[619,664,154,165,774,888,179],function(){return e(e.s=785)}),_N_E=e.O()}]);